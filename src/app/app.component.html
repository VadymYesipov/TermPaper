<html>

<head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
</head>

<body>
<div class="mat-app-background basic-container">
  <h1 class="text-danger text-center">Welcome to {{ title }}!</h1>
  <hr />

  <div id="fetchbtn">
    <button type="button" class="btn btn-outline-success" (click)="getAllBicycles();">Click me</button>
  </div>
  <div><small class="text-info">Click the button to fetch the bicycles from the database!</small></div>

  <div *ngIf="bicycles">
    <mat-table #table [dataSource]="dataSource" matSort>
      <ng-container matColumnDef="{{column}}" *ngFor="let column of displayedColumns">
        <mat-header-cell *matHeaderCellDef mat-sort-header> {{column}} </mat-header-cell>
        <mat-cell *matCellDef="let element">
          <div *ngIf="column == 'image'">
            <img id="imageColumn" src="data:image/png;base64,{{getContent(element, column)}}"/>
          </div>
          <div *ngIf="column != 'image'">
            {{getContent(element, column)}}
          </div>
        </mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
    </mat-table>

    <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>

    <!--<table mat-table #table [dataSource]="dataSource">

      <ng-container matColumnDef="id">
        <mat-header-cell *matHeaderCellDef> id </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.id}} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="brand name">
        <mat-header-cell *matHeaderCellDef> brand name </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.brand.brandName}} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="model name">
        <mat-header-cell *matHeaderCellDef> model name </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.brand.modelName}} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="price">
        <mat-header-cell *matHeaderCellDef> price </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.price}} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="description">
        <mat-header-cell *matHeaderCellDef> description </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.description}} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="image">
        <mat-header-cell *matHeaderCellDef> image </mat-header-cell>
        <mat-cell *matCellDef="let element">
          <img id="ItemPreview" src="data:image/png;base64,{{element.image.image}}"/>
        </mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>

    </table>-->

    <!--<mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>-->

  </div>
</div>
</body>

</html>
